<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Installing PHP on Ubuntu | Bill’s Random Notes</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Installing PHP on Ubuntu" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Thanks to Ondřej Surý for maintaining PPA of latest PHP5 versions on launchpad. If you want to install specific version of php, then this article can be helpful for you. This article will help you for installing PHP 5.6 or PHP 7.1 using PPA on Ubuntu 16.10, 16.04 LTS, 14.04 LTS or 12.04 LTS systems. If you have already have higher version installed on your system and you need to install lower version, then you have to remove higher version first and remove apt repository from system." />
<meta property="og:description" content="Thanks to Ondřej Surý for maintaining PPA of latest PHP5 versions on launchpad. If you want to install specific version of php, then this article can be helpful for you. This article will help you for installing PHP 5.6 or PHP 7.1 using PPA on Ubuntu 16.10, 16.04 LTS, 14.04 LTS or 12.04 LTS systems. If you have already have higher version installed on your system and you need to install lower version, then you have to remove higher version first and remove apt repository from system." />
<link rel="canonical" href="http://localhost:4000/virtualbox/2018/01/23/Installing-PHP.html" />
<meta property="og:url" content="http://localhost:4000/virtualbox/2018/01/23/Installing-PHP.html" />
<meta property="og:site_name" content="Bill’s Random Notes" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-01-23T19:19:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Installing PHP on Ubuntu" />
<script type="application/ld+json">
{"url":"http://localhost:4000/virtualbox/2018/01/23/Installing-PHP.html","headline":"Installing PHP on Ubuntu","dateModified":"2018-01-23T19:19:00+00:00","datePublished":"2018-01-23T19:19:00+00:00","description":"Thanks to Ondřej Surý for maintaining PPA of latest PHP5 versions on launchpad. If you want to install specific version of php, then this article can be helpful for you. This article will help you for installing PHP 5.6 or PHP 7.1 using PPA on Ubuntu 16.10, 16.04 LTS, 14.04 LTS or 12.04 LTS systems. If you have already have higher version installed on your system and you need to install lower version, then you have to remove higher version first and remove apt repository from system.","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/virtualbox/2018/01/23/Installing-PHP.html"},"@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Bill's Random Notes" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Bill&#39;s Random Notes</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/links/">Links</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Installing PHP on Ubuntu</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2018-01-23T19:19:00+00:00" itemprop="datePublished">Jan 23, 2018
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Thanks to Ondřej Surý for maintaining PPA of latest PHP5 versions on launchpad. If you want to install specific version of php, then this article can be helpful for you. This article will help you for installing PHP 5.6 or PHP 7.1 using PPA on Ubuntu 16.10, 16.04 LTS, 14.04 LTS or 12.04 LTS systems. If you have already have higher version installed on your system and you need to install lower version, then you have to remove higher version first and remove apt repository from system.</p>

<h2 id="install-php-56-on-ubuntu">Install PHP 5.6 on Ubuntu</h2>

<p>Use the following set of command to add PPA for PHP 5.6 in your Ubuntu system and install PHP 5.6.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo apt-get install python-software-properties
$ sudo add-apt-repository ppa:ondrej/php
$ sudo apt-get update
$ sudo apt-get install -y php5.6
</code></pre></div></div>

<h3 id="check-installed-php-version">Check Installed PHP Version:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ php -v
</code></pre></div></div>
<h2 id="install-php-71-on-ubuntu">Install PHP 7.1 on Ubuntu</h2>
<p>Use the following set of command to add PPA for PHP 7.1 in your Ubuntu system and install PHP 7.1.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo apt-get install python-software-properties
$ sudo add-apt-repository ppa:ondrej/php
$ sudo apt-get update
$ sudo apt-get install -y php7.1
</code></pre></div></div>
<h2 id="switch-between-php-versions">Switch Between PHP Versions</h2>

<p>If you have installed multiple php versions and want to use different than default. Use following steps to switch between php5.6 and php7.1 version. You can use the same command for other php versions.</p>

<h3 id="from-php-56--php-71">From PHP 5.6 =&gt; PHP 7.1</h3>

<p>For Apache:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>a2dismod php5.6
<span class="nv">$ </span><span class="nb">sudo </span>a2enmod php7.1
<span class="nv">$ </span><span class="nb">sudo </span>service apache2 restart
</code></pre></div></div>
<p>For CLI:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>update-alternatives <span class="nt">--set</span> php /usr/bin/php7.1
</code></pre></div></div>

<h3 id="from-php-71--php-56">From PHP 7.1 =&gt; PHP 5.6</h3>

<p>For Apache:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>a2dismod php7.1
<span class="nv">$ </span><span class="nb">sudo </span>a2enmod php5.6
<span class="nv">$ </span><span class="nb">sudo </span>service apache2 restart
</code></pre></div></div>
<p>For CLI:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>update-alternatives <span class="nt">--set</span> php /usr/bin/php5.6
</code></pre></div></div>

<h2 id="setup-xdebug">Setup XDebug</h2>

<p>The configuration file is found in <code class="language-plaintext highlighter-rouge">/etc/php/[ver]/apache2/conf.d/20-xdebug.ini</code> where [ver] is 5.6 or 7.1. To enable xdebug
to work remotely from the local machine to the vagrant guest, use the following:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>zend_extension=xdebug.so
xdebug.remote_enable=1
; xdebug.remote_connect_back=1
xdebug.remote_handler=dbgp
xdebug.remote_mode=req
xdebug.remote_host=10.0.2.2
xdebug.remote_port=9000
xdebug.remote_log="/home/vagrant/xdebug.log"
; xdebug.remote_autostart=1
</code></pre></div></div>
<p>The two commented out lines should not need to enabled</p>

<h3 id="debugging-with-vs-code">Debugging with VS Code</h3>

<p>The XDebug settings above will allow remote debugging from VS Code to the Vagrant VM.</p>

<ul>
  <li>Install the PHP Debug extension</li>
  <li>Go to the debug page in VS Code and open the <code class="language-plaintext highlighter-rouge">launch.json</code> settings (via the gear icon)</li>
  <li>add the path mapping, e.g.</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"pathMappings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="nl">"/var/www/web"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${workspaceRoot}/web"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"/var/www/protected"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${workspaceRoot}/protected"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Because <code class="language-plaintext highlighter-rouge">xdebug.remote_autostart=0</code> you need to manually start the server sending XDebug</p>

<ul>
  <li>For Firefox, install and use the <strong>theeasiestxdebug</strong> extension, which adds a toolbar button to toggle debug</li>
  <li>For CLI (running in VM), you need to run the command <code class="language-plaintext highlighter-rouge">export XDEBUG_CONFIG="idekey=xdebug"</code> before running the PHP script you want to debug</li>
</ul>

<h2 id="missing-packages-in-php-71">missing packages in PHP 7.1</h2>

<p>The default packaging of PHP7.1 on the box does not include the mbstring or mysqli functions. To install:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>php7.1-mbstring
<span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>php7.1-mysqli
</code></pre></div></div>

  </div><a class="u-url" href="/virtualbox/2018/01/23/Installing-PHP.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Bill&#39;s Random Notes</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Bill&#39;s Random Notes</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/billjinks"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">billjinks</span></a></li><li><a href="https://www.twitter.com/billjinks"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">billjinks</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Not much to see here, just a few notes from various hobby projects I do from time to time.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
